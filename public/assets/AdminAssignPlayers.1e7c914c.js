import{r as d,o as V,u as F,a as n,b as l,d as e,j as i,e as a,q as L,F as h,g as w,T as z,x as _,E as N,D as v,J as R,I as D,K as A,p as b,t as m,i as j,C as k,l as T,s as C,n as P,L as K,M as q,N as H}from"./index.7a40edc2.js";const I={class:"flex","aria-label":"Breadcrumb"},J={role:"list",class:"flex items-center space-x-4 px-4 sm:px-6 lg:px-8 mt-5"},U={href:"/",class:"text-gray-400 hover:text-gray-500"},Y=e("span",{class:"sr-only"},"Home",-1),O={class:"flex items-center"},Q=e("svg",{class:"h-5 w-5 flex-shrink-0 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true"},[e("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})],-1),W=["onClick","aria-current"],X={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},Z={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},ee={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},se={class:"p-4"},te={class:"flex items-start"},ae={class:"flex-shrink-0"},ne=e("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[e("p",{class:"text-sm font-medium text-gray-900"},"Person zugewiesen"),e("p",{class:"mt-1 text-sm text-gray-500"},"Der Spieler wurde erfolgreich zugewiesen")],-1),le={class:"ml-4 flex flex-shrink-0"},ie=e("span",{class:"sr-only"},"Close",-1),re={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},oe={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},de={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},ce={class:"p-4"},ue={class:"flex items-start"},me={class:"flex-shrink-0"},fe=e("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[e("p",{class:"text-sm font-medium text-gray-900"},"Fehler"),e("p",{class:"mt-1 text-sm text-gray-500"},"Leider ist ein Fehler aufgetreten")],-1),ge={class:"ml-4 flex flex-shrink-0"},xe=e("span",{class:"sr-only"},"Close",-1),he={class:"md:flex md:items-center md:justify-between mx-10 mt-10"},_e=e("div",{class:"min-w-0 flex-1"},[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Spieler zuweisen ")],-1),ve={class:"mt-4 flex md:ml-4 md:mt-0"},pe={class:"border-b border-gray-200 bg-white mt-10 ml-10"},ye={key:0,class:"flex items-center"},we={class:"flex-shrink-0 mb-2"},be=e("div",{class:"ml-3"},[e("p",{class:"text-md font-bold text-yellow-700 mb-2"},"Nicht zugewiesene Spieler")],-1),ke={key:1,class:"flex items-center"},Ce={class:"flex-shrink-0 mb-2"},$e=e("div",{class:"ml-3"},[e("p",{class:"text-md font-bold text-green-700 mb-2"},"Alle Spieler zugewiesen")],-1),Ge={key:0,"aria-label":"Choose a memory option",class:"mt-5 mx-10"},ze={role:"list",class:"grid grid-cols-1 gap-x-6 gap-y-8 lg:grid-cols-5 xl:gap-x-8 mx-10 mt-5"},De={class:"flex items-center gap-x-4 border-b border-gray-900/5 bg-gray-50 p-6"},je=["alt"],Pe={class:"text-sm font-medium leading-6 text-gray-900"},Se={class:"-my-3 divide-y divide-gray-100 px-6 py-4 text-sm leading-6"},Be={class:"flex justify-between gap-x-4 py-3"},Ee=e("dt",{class:"text-gray-500"},"Geburtsdatum",-1),Me={class:"text-gray-700"},Ve={class:"flex justify-between gap-x-4 py-3"},Fe=e("dt",{class:"text-gray-500"},"Email",-1),Le={class:"text-gray-700"},Ne=e("div",{class:"flex justify-between gap-x-4 py-3"},[e("dt",{class:"text-gray-500"},"Mannschaft"),e("dd",{class:"flex items-start gap-x-2"},[e("div",{class:"rounded-md px-2 py-1 text-xs font-medium text-yellow-700 bg-yellow-50 border-yellow-400 border"}," Keine Mannschaft ")])],-1),Te={setup(Re){const f=d(null),r=d(null),p=d(!1);let c=d(!1),g=d(!1),x=d([]);async function $(){const{data:o}=await b.get("/mannschaften");G.value=o;const t=await b.get("/unassignedPlayers");console.log("Response:",t),t.status==200&&(t.data.length>0?(p.value=!0,x.value=t.data):p.value=!1)}V(async()=>{await $()});let G=d([]);const S=F();async function B(){try{const o=await b.patch(`/assignPlayer/${r.value.p_id}`,{mannschaft:f.value.mannschaftid});o.status==200?(await $(),x.value=x.value.filter(t=>t.p_id!=r.value.p_id),c.value=!0,f.value=null,r.value=null,setTimeout(()=>{c.value=!1},3e3)):console.log("Error:",o)}catch(o){console.log("Error:",o)}}function E(o){let t=new Date(o);return`${t.getDay()}.${t.getMonth()}.${t.getFullYear()}`}const M=[{name:"Admin-Panel",href:"/admin",current:!1},{name:"Spieler zuweisen",href:"/adminAssignPlayers",current:!0}];return(o,t)=>(n(),l(h,null,[e("nav",I,[e("ol",J,[e("li",null,[e("div",null,[e("a",U,[i(a(L),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),Y])])]),(n(),l(h,null,w(M,s=>e("li",{key:s.name},[e("div",O,[Q,e("a",{onClick:u=>a(S).push(s.href),class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700 cursor-pointer","aria-current":s.current?"page":void 0},m(s.name),9,W)])])),64))])]),e("div",X,[e("div",Z,[i(z,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[a(c)?(n(),l("div",ee,[e("div",se,[e("div",te,[e("div",ae,[i(a(D),{class:"h-6 w-6 text-wwGreen","aria-hidden":"true"})]),ne,e("div",le,[e("button",{type:"button",onClick:t[0]||(t[0]=s=>j(c)?c.value=!1:c=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[ie,i(a(k),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):v("",!0)]),_:1})])]),e("div",re,[e("div",oe,[i(z,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[a(g)?(n(),l("div",de,[e("div",ce,[e("div",ue,[e("div",me,[i(a(T),{class:"h-6 w-6 text-wwRed","aria-hidden":"true"})]),fe,e("div",ge,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>j(g)?g.value=!1:g=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-wwRed focus:ring-offset-2"},[xe,i(a(k),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):v("",!0)]),_:1})])]),i(N),e("div",he,[_e,e("div",ve,[f.value?(n(),l("button",{key:0,onClick:B,type:"button",class:"ml-3 inline-flex items-center rounded-md bg-wwGreen px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-wwDarkGreen focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-wwGreen"}," Speichern ")):v("",!0)])]),e("div",pe,[p.value?(n(),l("div",ye,[e("div",we,[i(a(R),{class:"h-5 w-5 text-yellow-400","aria-hidden":"true"})]),be])):(n(),l("div",ke,[e("div",Ce,[i(a(D),{class:"h-5 w-5 text-green-400","aria-hidden":"true"})]),$e]))]),r.value?(n(),l("fieldset",Ge,[i(a(A),{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),class:"mt-2 grid grid-cols-8 gap-3 sm:grid-cols-8"},{default:_(()=>[(n(!0),l(h,null,w(a(G),s=>(n(),C(a(K),{as:"template",key:s.mannschaftsname,value:s},{default:_(({active:u,checked:y})=>[e("div",{class:P([u?"ring-2 ring-wwGreen ring-offset-2":"",y?"bg-wwLightGreen text-white ring-0 hover:bg-wwGreen":"bg-white text-gray-900 ring-1 ring-gray-300 hover:bg-gray-50",!u&&!y?"ring-inset":"",u&&y?"ring-2":"","flex items-center justify-center rounded-md px-3 py-3 text-sm font-semibold uppercase sm:flex-1"])},m(s.mannschaftsname),3)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):v("",!0),e("ul",ze,[(n(!0),l(h,null,w(a(x),s=>(n(),l("li",{key:s.p_id,class:P(["overflow-hidden rounded-xl border border-gray-200",r.value&&r.value.p_id==s.p_id?"ring-2 ring-wwLightGreen":""])},[e("div",De,[e("img",{src:q,alt:s.name,class:"h-12 w-12 flex-none rounded-lg bg-white object-cover ring-1 ring-gray-900/10"},null,8,je),e("div",Pe,m(s.vorname)+" "+m(s.nachname),1),!r.value||r.value.p_id!=s.p_id?(n(),C(a(H),{key:0,class:"h-7 w-7 text-gray-400 ml-auto cursor-pointer","aria-hidden":"true",onClick:u=>r.value=s},null,8,["onClick"])):(n(),C(a(k),{key:1,class:"h-7 w-7 text-gray-400 ml-auto cursor-pointer","aria-hidden":"true",onClick:t[3]||(t[3]=u=>r.value=null)}))]),e("dl",Se,[e("div",Be,[Ee,e("dd",Me,m(E(s.geburtsdatum)),1)]),e("div",Ve,[Fe,e("dd",Le,m(s.email),1)]),Ne])],2))),128))])],64))}};export{Te as default};
